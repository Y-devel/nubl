(()=>{"use strict";const e=document.querySelectorAll("img[data-src]"),t=document.querySelectorAll("source[data-srcset]");const o=new IntersectionObserver((function(e,t){e.forEach((e=>{if(e.isIntersecting){const o=e.target;"IMG"===o.tagName?o.dataset.src&&(o.src=o.dataset.src,o.removeAttribute("data-src")):"SOURCE"===o.tagName&&o.dataset.srcset&&(o.srcset=o.dataset.srcset,o.removeAttribute("data-srcset")),t.unobserve(o)}}))}),{rootMargin:"0px 0px 100px 0px"});e.forEach((e=>o.observe(e))),t.forEach((e=>o.observe(e)));let s=!1;function n(){const e=document.querySelectorAll("[data-ani], [ani-show], [ani-show-center]"),t=window.innerHeight,o=t/2,n=.7*t;e.forEach((e=>{const s=e.getBoundingClientRect();if(e.hasAttribute("data-ani")){s.top<n&&s.bottom>0&&e.classList.add("visible")}if(e.hasAttribute("data-ani-center")){s.top<o&&s.bottom>o&&e.classList.add("visible")}if(e.hasAttribute("data-ani-bottom")){s.bottom<=t&&e.classList.add("visible-bottom")}if(e.hasAttribute("ani-show")){s.top<n&&s.bottom>0&&e.classList.add("show")}if(e.hasAttribute("ani-show-center")){const o=s.top+s.height/2;o<t&&o>0&&e.classList.add("show-center")}})),s=!1}function c(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}window.addEventListener("scroll",(function(){s||(requestAnimationFrame(n),s=!0)}),{passive:!0}),document.addEventListener("DOMContentLoaded",n),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".faq-row__items");e.forEach((t=>{const o=t.querySelector(".faq-row__actions"),s=t.querySelector(".faq-row__body"),n=t.querySelector(".faq-row__content");s.style.height="0px",s.style.overflow="hidden",s.style.transition="height 0.3s ease",o.addEventListener("click",(function(){if(t.classList.contains("active"))t.classList.remove("active"),s.style.height="0px";else{e.forEach((e=>{if(e!==t){e.classList.remove("active");e.querySelector(".faq-row__body").style.height="0px"}})),t.classList.add("active");const o=n.scrollHeight+"px";s.style.height=o}}))}))})),document.querySelectorAll(".form-block__item").forEach((e=>{const t=e.querySelector("input, textarea"),o=e.querySelector("label");t&&o&&(o.addEventListener("click",(()=>{e.classList.add("active"),t.focus()})),t.addEventListener("focus",(()=>{e.classList.add("active")})),t.addEventListener("blur",(()=>{""===t.value.trim()&&e.classList.remove("active"),"email"===t.type&&function(e,t){""!==e.value.trim()&&(e.checkValidity()&&c(e.value)?t.classList.remove("error"):t.classList.add("error"))}(t,e)})),t.addEventListener("input",(()=>{""!==t.value.trim()?e.classList.add("active"):e.classList.remove("active"),"email"===t.type&&e.classList.remove("error")})),""!==t.value.trim()&&e.classList.add("active"))})),document.addEventListener("submit",(function(e){const t=e.target;if(t.classList.contains("your-form-class")||t.querySelector(".form-block__item")){const o=t.querySelectorAll('input[type="email"]');let s=!1;if(o.forEach((e=>{const t=e.closest(".form-block__item");t&&(e.checkValidity()&&c(e.value)?t.classList.remove("error"):(t.classList.add("error"),s=!0))})),s){e.preventDefault();const o=t.querySelector(".form-block__item.error");o&&o.querySelector("input, textarea").focus()}}}));const i=document.getElementById("inp2");i&&(i.addEventListener("input",(function(){this.style.height="auto",""===this.value.trim()?this.style.height="130px":this.style.height=Math.min(this.scrollHeight,330)+"px"})),i.addEventListener("focus",(function(){""!==this.value.trim()&&(this.style.height="auto",this.style.height=Math.min(this.scrollHeight,330)+"px")})));document.querySelectorAll(".current-year").forEach((e=>{e.textContent=(new Date).getFullYear()}));const r=document.querySelectorAll(".signup-text-decor span");r&&r.forEach(((e,t)=>{e.style.transitionDelay=80*t+"ms"})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".mouse"),t=document.querySelector(".decor"),o=document.querySelectorAll(".block-shadow-inset");document.addEventListener("mousemove",(function(s){const n=s.clientX,c=s.clientY;e.style.left=n+"px",e.style.top=c+"px",e.style.transform="translate(-50%, -50%)";const i=`circle(185px at ${n}px ${c}px)`;t.style.clipPath=i,t.style.opacity=1,o.forEach((e=>{const t=e.getBoundingClientRect();if(n>=t.left&&n<=t.right&&c>=t.top&&c<=t.bottom){const o=n-t.left,s=c-t.top,i=5*(o/t.width-.1),r=5*(s/t.height-.1);e.style.boxShadow=`inset ${i}px ${r}px 20px 0 #fff`}}))})),o.forEach((e=>{e.addEventListener("mouseleave",(()=>{e.style.boxShadow="inset 0 0 20px 0 #fff"})),e.style.boxShadow="inset 0 0 20px 0 #fff"}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".burger"),t=document.querySelectorAll(".menu__item"),o=document.querySelector(".overlap"),s=document.querySelector(".logo"),n=document.querySelector(".btn-header"),c=document.querySelector(".menu-mob"),i=document.querySelector(".menu-mob .menu__list"),r=document.body;function a(){if(r.classList.contains("menu-show")&&c&&i){const e=i.offsetHeight+c.offsetHeight;c.style.height=e+"px"}else c&&(c.style.height="")}function l(){r.classList.remove("menu-show"),setTimeout(a,10)}e&&e.addEventListener("click",(function(){r.classList.toggle("menu-show"),setTimeout(a,10)})),t.forEach((e=>{e.addEventListener("click",l)})),o&&o.addEventListener("click",l),s&&s.addEventListener("click",l),n&&n.addEventListener("click",l),window.addEventListener("resize",(function(){r.classList.contains("menu-show")&&a()}))}));document.querySelectorAll(".close").forEach((e=>{e.addEventListener("click",(function(){const e=this.closest(".popup");e&&(e.style.display="none")}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".social-item-link");e&&e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("data-link")?.trim();if(t){navigator.clipboard.writeText(t).then((function(){console.log("Ссылка скопирована: "+t)})).catch((function(e){console.error("Ошибка копирования: ",e)}));const e=this.closest(".popup");e&&e.classList.add("link")}}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".cookie"),t=document.querySelector(".btn-cookie");t&&t.addEventListener("click",(function(){localStorage.setItem("cookiesAccepted","true"),e&&(e.style.display="none"),console.log("Cookies accepted")})),e&&("true"===localStorage.getItem("cookiesAccepted")?e.style.display="none":e.style.display="block")})),document.querySelectorAll(".to-scroll").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("href");if("/"===window.location.pathname||window.location.pathname.endsWith("index.html")||window.location.pathname.endsWith("/index.html")){const e="#"+t.split("#")[1],o=document.querySelector(e);o&&o.scrollIntoView({behavior:"smooth"})}else window.location.href=t}))}))})();